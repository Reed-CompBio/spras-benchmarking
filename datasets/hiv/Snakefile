rule all:
    input:
        "processed/processed_prizes_05.txt",
        "processed/processed_prizes_060.txt",
        "processed/phosphosite-irefindex13.0-uniprot.txt"

rule fetch:
    output:
        "raw/prizes_05.tsv",
        "raw/prizes_060.tsv",
        "raw/ko03250.xml"
    shell:
        "uv run scripts/fetch.py"

rule data_prep:
    input: 
        "raw/prizes_05.tsv",
        "raw/prizes_060.tsv"
    output:
        "Pickles/NodeIDs.pkl"
    shell:
        "uv run scripts/prepare.py"

rule name_mapping:
    input: 
        "Pickles/NodeIDs.pkl"
    output:
        "Pickles/UniprotIDs.pkl"
    shell:
        "uv run scripts/name_mapping.py"

rule spras_formatting:
    input:
        "Pickles/NodeIDs.pkl",
        "Pickles/UniprotIDs.pkl"
    output:
        "processed/processed_prizes_05.txt",
        "processed/processed_prizes_060.txt"
    shell:
        "uv run scripts/spras_formatting.py"

rule copy_network:
    input:
        "raw/phosphosite-irefindex13.0-uniprot.txt"
    output:
        "processed/phosphosite-irefindex13.0-uniprot.txt"
    shell:
        "cp raw/phosphosite-irefindex13.0-uniprot.txt processed/phosphosite-irefindex13.0-uniprot.txt"
